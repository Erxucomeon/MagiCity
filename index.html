<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="generator" content="Hugo 0.66.0" />
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- 引入Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

  <!-- 引入jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- 引入Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
  <link rel="stylesheet" href="../css/normalize.css">
  <link rel="stylesheet" href="../css/skeleton.css">
  <link rel="stylesheet" href="../css/custom.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="alternate" href="index.xml" type="application/rss+xml">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
  <style>
    body {
      font-size: 20px;
      /* 设置默认字体大小 */

    }

    /* thead{
      border-top: 1px solid #ccc; 
    } */
    .table td {
      border: none
    }

    .table th {
      border: none
    }

    .table tr {
      border: none
    }

    .table-container {
      overflow-x: auto;
      /* width:120%; */
      margin: 0 auto;
    }

    /* table {
      overflow-x: auto;
    } */
    .audio-container {
      display: flex;
      justify-content: center;
      align-items: center;
      border: none
    }

    /* .video-container {
      position: relative;
      width: 600px;
      margin: 0 auto;
      padding-bottom: 56.25%; /* 16:9宽高比，调整此值适配其他比例的视频 */
    /* overflow: hidden;
    }

    /* 视频元素的样式 */
    /* .video-container video {
      /* position: absolute; */
    /* top: 0;
      left: 0;
      width: 600px; */
    /* height: 100%; */

    video {
      width: 640px;
      /* 设置视频宽度 */
      height: 360px;
      /* 设置视频高度 */
    }

    hr {
      border-color: #767676;
      /* 可根据需要修改颜色值 */
      border-width: 1px;
      /* 可根据需要修改宽度值 */
    }

    @media(min-width:1200px) {
      .table-container {
        overflow-x: auto;
        width: 100%;
        margin: 0 auto;
      }
    }

    @media (max-width: 600px) {

      /* 在手机屏幕上应用以下样式 */
      body {
        font-size: 14px;
        /* 缩小字体大小 */
      }

      h1 {
        font-size: 22px;
        /* 缩小标题字体大小 */
      }

      h2 {
        font-size: 18px;
        /* 缩小标题字体大小 */
      }

      nav ul li {
        display: block;
        /* 列表项显示为块级元素，方便手机点击 */
      }

      .video-container {
        padding-bottom: 75%;
        /* 4:3宽高比，调整此值适配其他比例的视频 */
      }

      video {
        width: 400px;
        /* 设置视频宽度 */
        /* height: 360px; 设置视频高度 */
      }
    }
  </style>
  <title>MAGICITY4D</title>
</head>

<body rightmargin="150" leftmargin="150" topmargin="100" bottommargin="100" line-height:160%>
  <!-- <font size="5"> -->

  <div class="container">

    <header role="banner">

    </header>
    <main role="main">
      <article itemscope itemtype="https://schema.org/BlogPosting">
        <br></br>
        <h1 itemprop="headline" align="center">
          <font color="000093">MAGICITY4D: Methodology for Editable and Interactable<br>4D City Scene Generation by MLLM-powered Procedural Content Generation</br>
          </font>
        </h1>
        <br></br>
        <p style="line-height:1" align="center"><b>
            <font color="061E61">Xu Zhang<sup>1</sup>, Hualong Yu<sup>1</sup>, Xiaohang Dong<sup>1</sup>, Qicheng Li<sup>1,*</sup></font>
          </b></p>
        <p style="line-height:0.6" align="center">
          <font color="061E61"><sup>1</sup>College of Computer Science, Nankai University, Tianjin, China</font>
        </p>

        <p style="line-height:1;font-size:17px;" align="center">
          <font color="061E61"><sup>*</sup>Corresponding author</font>
        </p>
        <section itemprop="entry-text">
          <br>
    


          <!-- <div class="video-carousel-container">
            <div class="video-carousel-strip" id="videoStrip">
              </div>
            <div class="video-controls">
              <button onclick="moveCarousel(-1)">&#9664;</button>
              <button onclick="moveCarousel(1)">&#9654;</button>
            </div>
          </div>
          
          <script>
            // 视频数据源，可以根据需要添加或删除
            const videoData = [
              './video/video1.mp4',
              './video/video2.mp4',
              './video/video1.mp4',
              './video/video2.mp4',
              './video/video1.mp4',
            ];
          
            const videoStrip = document.getElementById('videoStrip');
            const videoWidth = 500; // 每个视频的固定宽度
            const videoMargin = 15; // 视频之间的左右外边距
            const containerWidth = 730; // 容器宽度
            const itemFullWidth = videoWidth + videoMargin * 2; // 单个视频项的总宽度
          
            // 初始索引从1开始，因为索引0是副本
            let currentVideoIndex = 1;
            let isMoving = false;
          
            // 1. 创建并添加视频元素到DOM
            function createVideoItems() {
              // 确保真实视频数量大于1，否则无法实现循环
              if (videoData.length <= 1) return;
          
              // 添加最后一个视频的副本到开头
              const lastVideoClone = createVideoElement(videoData[videoData.length - 1]);
              videoStrip.appendChild(lastVideoClone);
          
              // 添加所有真实视频
              videoData.forEach(src => {
                const videoEl = createVideoElement(src);
                videoStrip.appendChild(videoEl);
              });
          
              // 添加第一个视频的副本到结尾
              const firstVideoClone = createVideoElement(videoData[0]);
              videoStrip.appendChild(firstVideoClone);
          
              // 确保所有视频都自动播放
              document.querySelectorAll('.video-item').forEach(video => {
                video.play();
              });
            }
          
            function createVideoElement(src) {
              const video = document.createElement('video');
              video.className = 'video-item';
              video.controls = true;
              video.muted = true;
              video.loop = true;
              video.innerHTML = `<source src="${src}" type="video/mp4">`;
              return video;
            }
          
            // 2. 移动轮播图的核心函数
            function moveCarousel(direction) {
              // 避免在动画过程中重复点击
              if (isMoving) return;
              isMoving = true;
          
              // 更新索引
              currentVideoIndex += direction;
          
              // 计算平移距离，这里无需判断索引是否越界
              const offset = currentVideoIndex * itemFullWidth - (containerWidth - itemFullWidth) / 2;
              videoStrip.style.transform = `translateX(-${offset}px)`;
          
              // 3. 监听动画结束事件，进行瞬时重置
              videoStrip.addEventListener('transitionend', () => {
                // 禁用平滑过渡，为瞬时重置做准备
                videoStrip.style.transition = 'none';
          
                if (currentVideoIndex === videoData.length + 1) {
                  // 到达结尾的副本，重置到真实的第一个视频
                  currentVideoIndex = 1;
                  videoStrip.style.transform = `translateX(-${currentVideoIndex * itemFullWidth - (containerWidth - itemFullWidth) / 2}px)`;
                } else if (currentVideoIndex === 0) {
                  // 到达开头的副本，重置到真实的最后一个视频
                  currentVideoIndex = videoData.length;
                  videoStrip.style.transform = `translateX(-${currentVideoIndex * itemFullWidth - (containerWidth - itemFullWidth) / 2}px)`;
                }
          
                // 在下一个事件循环中重新启用平滑过渡
                requestAnimationFrame(() => {
                  videoStrip.style.transition = 'transform 0.5s ease-in-out';
                  isMoving = false;
                });
              }, {
                once: true
              });
            }
          
            // 页面加载时执行
            window.onload = () => {
              createVideoItems();
              // 初始位置，让第一个真实视频居中
              const initialOffset = currentVideoIndex * itemFullWidth - (containerWidth - itemFullWidth) / 2;
              videoStrip.style.transform = `translateX(-${initialOffset}px)`;
            };
          </script>
          
          <style>
            /* 容器：限制可见区域 */
            .video-carousel-container {
              position: relative;
              width: 730px;
              height: auto;
              overflow: hidden;
              margin: 0 auto;
            }
          
            /* 视频条带：所有视频的容器 */
            .video-carousel-strip {
              display: flex;
              transition: transform 0.5s ease-in-out;
            }
          
            /* 每个视频元素 */
            .video-item {
              width: 500px;
              height: auto;
              flex-shrink: 0;
              margin: 0 15px;
            }
          
            /* 切换按钮 */
            .video-controls {
              position: absolute;
              top: 50%;
              left: 0;
              right: 0;
              transform: translateY(-50%);
              display: flex;
              justify-content: space-between;
              z-index: 10;
            }
          
            .video-controls button {
              background: rgba(0, 0, 0, 0.5);
              border: none;
              color: white;
              font-size: 2em;
              cursor: pointer;
              padding: 10px;
              border-radius: 50%;
            }
          
            .video-controls button:hover {
              background: rgba(0, 0, 0, 0.8);
            }
          </style>
          
          <style>
            /* 容器：限制可见区域，调整宽度以露出左右视频部分 */
            .video-carousel-container {
              position: relative;
              width: 730px; 
              height: auto;
              overflow: hidden; 
              margin: 0 auto; 
            }
          
            /* 视频条带：所有视频的容器 */
            .video-carousel-strip {
              display: flex; 
              transition: transform 0.5s ease-in-out;
            }
          
            /* 每个视频元素 */
            .video-item {
              width: 500px; 
              height: auto;
              flex-shrink: 0; 
              margin: 0 15px;
            }
          
            /* 切换按钮 */
            .video-controls {
              position: absolute;
              top: 50%;
              left: 0;
              right: 0;
              transform: translateY(-50%);
              display: flex;
              justify-content: space-between;
              pointer-events: none; 
              z-index: 10;
            }
          
            .video-controls button {
              pointer-events: auto;
              background: rgba(0, 0, 0, 0.5);
              border: none;
              color: white;
              font-size: 2em;
              cursor: pointer;
              padding: 10px;
              border-radius: 50%;
            }
          
            .video-controls button:hover {
              background: rgba(0, 0, 0, 0.8);
            }
          </style> -->


          <script>
            // 视频数据源，可以根据需要添加或删除
            const videoData = [
              './video/video1.mp4',
              './video/video2.mp4',
              './video/video3.mp4',
              './video/video4.mp4',
              './video/video5.mp4',
            ];
          
            const videoStrip = document.getElementById('videoStrip');
            // --- 关键调整在这里！ ---
            const videoWidth = 800; // 每个视频的固定宽度，与CSS保持一致
            const videoMargin = 15; // 视频之间的左右外边距，与CSS保持一致
            const visiblePartWidth = 200; // 左右各露出部分的宽度，你可以根据需要调整
            // --- 关键调整结束！ ---
            
            const containerWidth = videoWidth + (videoMargin * 2) + (visiblePartWidth * 2);
            const itemFullWidth = videoWidth + videoMargin * 2;
            const transitionDuration = 500; // 动画持续时间（毫秒）
            
            let currentVideoIndex = 1;
            let isMoving = false;
            
            // 1. 创建并添加视频元素到DOM
            function createVideoItems() {
              if (videoData.length <= 1) return;
          
              const lastVideoClone = createVideoElement(videoData[videoData.length - 1]);
              videoStrip.appendChild(lastVideoClone);
          
              videoData.forEach(src => {
                const videoEl = createVideoElement(src);
                videoStrip.appendChild(videoEl);
              });
          
              const firstVideoClone = createVideoElement(videoData[0]);
              videoStrip.appendChild(firstVideoClone);
          
              document.querySelectorAll('.video-item').forEach(video => {
                video.play();
              });
            }
          
            function createVideoElement(src) {
              const video = document.createElement('video');
              video.className = 'video-item';
              video.controls = true;
              video.muted = true;
              video.loop = true;
              video.innerHTML = `<source src="${src}" type="video/mp4">`;
              return video;
            }
          
            // 2. 移动轮播图的核心函数
            function moveCarousel(direction) {
              if (isMoving) return;
              isMoving = true;
              
              currentVideoIndex += direction;
          
              const offset = currentVideoIndex * itemFullWidth - (containerWidth - itemFullWidth) / 2;
              videoStrip.style.transform = `translateX(-${offset}px)`;
          
              setTimeout(() => {
                if (currentVideoIndex === videoData.length + 1 || currentVideoIndex === 0) {
                  videoStrip.style.transition = 'none';
          
                  if (currentVideoIndex === videoData.length + 1) {
                    currentVideoIndex = 1;
                  } else if (currentVideoIndex === 0) {
                    currentVideoIndex = videoData.length;
                  }
                  
                  const resetOffset = currentVideoIndex * itemFullWidth - (containerWidth - itemFullWidth) / 2;
                  videoStrip.style.transform = `translateX(-${resetOffset}px)`;
                  
                  requestAnimationFrame(() => {
                    videoStrip.style.transition = `transform ${transitionDuration}ms ease-in-out`;
                    isMoving = false;
                  });
                } else {
                  isMoving = false;
                }
              }, transitionDuration);
            }
          
            window.onload = () => {
              createVideoItems();
              const initialOffset = currentVideoIndex * itemFullWidth - (containerWidth - itemFullWidth) / 2;
              videoStrip.style.transform = `translateX(-${initialOffset}px)`;
            };
          </script>
          
          <style>
            /* 容器：限制可见区域 */
            .video-carousel-container {
              position: relative;
              width: 1060px; /* (800 + 15*2 + 200*2 = 1060) */
              height: auto;
              overflow: hidden;
              margin: 0 auto;
            }
          
            /* 视频条带：所有视频的容器 */
            .video-carousel-strip {
              display: flex;
              transition: transform 0.5s ease-in-out;
            }
          
            /* 每个视频元素 */
            .video-item {
              width: 800px; /* 固定视频的宽度 */
              height: auto;
              flex-shrink: 0;
              margin: 0 15px;
            }
          
            /* 切换按钮 */
            .video-controls {
              position: absolute;
              top: 50%;
              left: 0;
              right: 0;
              transform: translateY(-50%);
              display: flex;
              justify-content: space-between;
              z-index: 10;
            }
          
            .video-controls button {
              background: rgba(0, 0, 0, 0.5);
              border: none;
              color: white;
              font-size: 2em;
              cursor: pointer;
              padding: 10px;
              border-radius: 50%;
            }
          
            .video-controls button:hover {
              background: rgba(0, 0, 0, 0.8);
            }
          </style>


          <h2 style="text-align: center;" id="abstract">
            <font color="000093">Abstract</font>
        </h2>
          <p style="text-align: justify;">
            <font color="061E61">
              3D city scene generation technology has made significant progress in recent years, 4D city scene generation is more challenging due to its need to incorporate temporal dynamics, placing higher demands on generation system coordination capabilities.
To address this dilemma, this paper proposes MagiCity4D, a multimodal 4D city generation framework based on multimodal large language model (MLLM) and ocedural content generation (PCG). This framework deeply integrates MLLM and PCG to enable not only scene generation but also real-time, fine-grained editing of scenes. Experiments demonstrate that the quality of city scenes generated by MagiCity4D outperforms existing methods.</font>
          </p>


          <figure>
            <p align="center"><img src="main.png" width="90%" class="center" /></p>
            <figcaption style="display: flex; justify-content: center;">
              <p style="text-align: justify;">
                  <font color="061E61"><b>Fig. 1:</b> Pipeline of MagiCity4D
              </p>
          </figcaption>
          </figure>

        </section>
      </article>
    </main>

  </div>

  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-139981676-1', 'auto');
    ga('send', 'pageview');
  </script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>



  <script type="text/x-mathjax-config">
     MathJax.Hub.Config({
         HTML: ["input/TeX","output/HTML-CSS"],
         TeX: {
                Macros: {
                         bm: ["\\boldsymbol{#1}", 1],
                         argmax: ["\\mathop{\\rm arg\\,max}\\limits"],
                         argmin: ["\\mathop{\\rm arg\\,min}\\limits"]},
                extensions: ["AMSmath.js","AMSsymbols.js"],
                equationNumbers: { autoNumber: "AMS" } },
         extensions: ["tex2jax.js"],
         jax: ["input/TeX","output/HTML-CSS"],
         tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true },
         "HTML-CSS": { availableFonts: ["TeX"],
                       linebreaks: { automatic: true } }
     });
 </script>

  <script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       tex2jax: {
         skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
       }
     });
 </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
</body>

</html>